---
layout: post
title: vim 基本命令
---

#### vim 的基本概念

vim大致分可为这么几种状态，分别是命令模式、插入模式、视图模式、和底行模式，各模式的功能区分如下：

1) 命令行模式

控制屏幕光标的移动，字符、字或行的删除，移动复制某区段

2) 插入模式

按 [i] 进入插入模式,对文件的内容进行编辑操作，按「ESC」键可回到命令行模式

3) 视图模式

按［v］或者[V]进入视图模式，对文字区段进行选择,然后进行相应的操作（比如复制一段文字，删除一段文字等等）

4) 底行模式

按[:]或者[/] 进入底行模式,其实底行模式也是命令模式的一种等

常使用底行模式对文件文件保存或退出vim，也可以设置编辑环境，如寻找字符串、列出行号……等

####  进入vim

在终端输入 [vim] 进入vim界面，中部有一段关于vim版本、vim基本命令的说明

进入vim，默认进入的是vim的命令模式

> 插入模式

按[i]进入插入模式

按[Esc]回到命令模式

> 底行模式

按[:]进入底行模式(命令模式的一种)

: w filename （输入 「w filename」将文章以指定的文件名filename保存）

: wq (输入「wq」，存盘并退出vi)

: q! (输入q!， 不存盘强制退出vi)

按[Esc]回到命令模式

按[v]进入视图模式

3、命令行模式（command mode）功能键

1）. 插入模式

按「i」切换进入插入模式「insert mode」，按“i”进入插入模式后是从光标当前位置开始输入文件；

按「a」进入插入模式后，是从目前光标所在位置的下一个位置开始输入文字；

按「o」进入插入模式后，是插入新的一行，从行首开始输入文字。

2）. 从插入模式切换为命令行模式

按「ESC」键。

3）. 移动光标

vi可以直接用键盘上的光标来上下左右移动，但正规的vi是用小写英文字母「h」、「j」、「k」、「l」，分别控制光标左、下、上、右移一格。

按「ctrl」+「b」：屏幕往“后”移动一页。

按「ctrl」+「f」：屏幕往“前”移动一页。

按「ctrl」+「u」：屏幕往“后”移动半页。

按「ctrl」+「d」：屏幕往“前”移动半页。

按数字「0」：移到文章的开头。

按「G」：移动到文章的最后。

按「$」：移动到光标所在行的“行尾”。

按「^」：移动到光标所在行的“行首”

按「w」：光标跳到下个字的开头

按「e」：光标跳到下个字的字尾

按「b」：光标回到上个字的开头

按「#l」：光标移到该行的第#个位置，如：5l,56l。

4）. 删除文字

「x」：每按一次，删除光标所在位置的“后面”一个字符。

「#x」：例如，「6x」表示删除光标所在位置的“后面”6个字符。

「X」：大写的X，每按一次，删除光标所在位置的“前面”一个字符。

「#X」：例如，「20X」表示删除光标所在位置的“前面”20个字符。

「dd」：删除光标所在行。

「#dd」：从光标所在行开始删除#行

5）. 复制

「yw」：将光标所在之处到字尾的字符复制到缓冲区中。

「#yw」：复制#个字到缓冲区

「yy」：复制光标所在行到缓冲区。

「#yy」：例如，「6yy」表示拷贝从光标所在的该行“往下数”6行文字。

「p」：将缓冲区内的字符贴到光标所在位置。注意：所有与“y”有关的复制命令都必须与“p”配合才能完成复制与粘贴功能。

6）. 替换

「r」：替换光标所在处的字符。

「R」：替换光标所到之处的字符，直到按下「ESC」键为止。

7）. 回复上一次操作

「u」：如果您误执行一个命令，可以马上按下「u」，回到上一个操作。按多次“u”可以执行多次回复。

「cw」：更改光标所在处的字到字尾处

「c#w」：例如，「c3w」表示更改3个字

「ctrl」+「g」列出光标所在行的行号。

「#G」：例如，「15G」，表示移动光标至文章的第15行行首。

「set nu」：输入「set nu」后，会在文件中的每一行前面列出行号。

[:15]或者[15gg] 回车，就会跳到文件第15行。

C) 查找字符

「/关键字」：先按「/」键，再输入您想寻找的字符，如果第一次找的关键字不是您想要的，可以一直按「n」会往后寻找到您要的关键字为止。

「?关键字」：先按「?」键，再输入您想寻找的字符，如果第一次找的关键字ä¡

「ctrl」+「g」列出光标所在行的行妖。

5、vim 命令列表

k 光标上移一行

j 光标下移一行

^ 光标移动至行首

0 数字“ 0 ”，光标移至文章的开头

G 光标移至文章的最后

$ 光标移动至行尾

Ctrl+f向前翻屏

Ctrl+b向后翻屏

Ctrl+d向前翻半屏

Ctrl+u向后翻半屏

i在光标位置前插入字符

a在光标所在位置的后一个字符开始增加

o 在当前行的下一行插入新的一行

O 在当前行的上一行插入新的一行

ESC从输入状态退至命令状态

x删除光标后面的字符

大写的X删除光标前面的字符

yy复制光标所在位置的一行

### vim的一点小技巧

vi” 选择引号内容，

vi> 选择尖括号内容，

vit 选择标签内的内容，

va” 选择包括引号在内的内容，

va> 选择包括尖括号在内的内容，

vat 选择整个标签;

ci”清除引号内容，

ci> 清除尖括号内容，

cit 清除标签内的内容。
